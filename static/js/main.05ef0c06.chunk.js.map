{"version":3,"sources":["components/common/tableHeader.jsx","components/common/tableBody.jsx","components/common/table.jsx","components/common/like.jsx","components/moviesTable.jsx","components/common/listGroup.jsx","components/common/pagination.jsx","services/fakeGenreService.js","services/fakeMovieService.js","utils/paginate.js","components/movies.jsx","App.js","reportWebVitals.js","index.js"],"names":["TableHeader","raiseSort","path","sortColumn","props","order","onSort","renderSortIcon","column","className","this","columns","map","onClick","label","key","Component","TableBody","renderCell","item","content","_","get","createKey","_id","data","Table","Like","classes","liked","style","cursor","aria-hidden","MoviesTable","movie","onLike","onDelete","movies","ListGroup","items","textProperty","valueProperty","selectedItem","onItemSelect","defaultProps","Pagination","itemsCount","pageSize","currentPage","onPageChange","console","log","pagesCount","Math","ceil","pages","range","aria-label","page","genres","name","title","genre","numberInStock","dailyRentalRate","publishDate","paginate","pageNumber","startIndex","slice","take","value","Movies","state","handleDelete","filter","m","setState","handleLike","index","indexOf","handlePageChange","handleGenreSelect","selectedGenre","handleSort","getPageData","allMovies","filtered","orderBy","totalCount","length","g","count","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.05ef0c06.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass TableHeader extends Component {\n  raiseSort = (path) => {\n    const sortColumn = { ...this.props.sortColumn };\n    if (sortColumn.path === path)\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n    else {\n      sortColumn.path = path;\n      sortColumn.order = \"asc\";\n    }\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = (column) => {\n    const { sortColumn } = this.props;\n\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\"></i>;\n    return <i className=\"fa fa-sort-desc\"></i>;\n  };\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map((column) => (\n            <th\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n              className='clickable'\n            >\n              {column.label} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React, { Component } from \"react\";\nimport _ from \"lodash\";\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item._id + (column.path || column.key);\n  };\n\n  render() {\n    const { data, columns } = this.props;\n\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item._id}>\n            {columns.map((column) => (\n              <td key={this.createKey(item, column)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React from \"react\";\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className=\"table\">\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\n      <TableBody columns={columns} data={data} />\n    </table>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\n\nconst Like = (props) => {\n  let classes = \"fa  fa-heart\";\n  if (!props.liked) classes += \"-o\";\n  return (\n    <i\n      onClick={props.onClick}\n      style={{ cursor: \"pointer\" }}\n      className={classes}\n      aria-hidden=\"true\"\n    />\n  );\n};\n\nexport default Like;\n","import React, { Component } from \"react\";\nimport Table from \"./common/table\";\nimport Like from \"./common/like\";\n\nclass MoviesTable extends Component {\n  columns = [\n    { path: \"title\", label: \"Title\" },\n    { path: \"genre.name\", label: \"Genre\" },\n    { path: \"numberInStock\", label: \"Stock\" },\n    { path: \"dailyRentalRate\", label: \"Rate\" },\n    {\n      key: \"like\",\n      content: (movie) => (\n        <Like liked={movie.liked} onClick={() => this.props.onLike(movie)} />\n      ),\n    },\n    {\n      key: \"delete\",\n      content: (movie) => (\n        <button\n          onClick={() => this.props.onDelete(movie)}\n          className=\"btn btn-danger btn-sm\"\n        >\n          Delete\n        </button>\n      ),\n    },\n  ];\n\n  render() {\n    const { movies, onSort, sortColumn } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={movies}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default MoviesTable;\n","import React, { Component } from \"react\";\n\nconst ListGroup = ({\n  items,\n  textProperty,\n  valueProperty,\n  selectedItem,\n  onItemSelect,\n}) => {\n  return (\n    <ul className=\"list-group\">\n      {items.map((item) => (\n        <li\n          onClick={() => onItemSelect(item)}\n          key={item[valueProperty]}\n          style={{ cursor: \"pointer\" }}\n          className={\n            item === selectedItem ? \"list-group-item active\" : \"list-group-item\"\n          }\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nListGroup.defaultProps = {\n  textProperty: \"name\",\n  valueProperty: \"_id\",\n};\n\nexport default ListGroup;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\n\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\n  console.log(currentPage);\n\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  if (pagesCount === 1) return null;\n  const pages = _.range(1, pagesCount + 1);\n\n  return (\n    <nav aria-label=\"Page navigation example\">\n      <ul className=\"pagination\">\n        {pages.map((page) => (\n          <li\n            key={page}\n            style={{ cursor: \"pointer\" }}\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\n          >\n            <a className=\"page-link\" onClick={() => onPageChange(page)}>\n              {page}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n];\n\nexport function getGenres() {\n  return genres.filter((g) => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {};\n  movieInDb.name = movie.name;\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items).slice(startIndex).take(pageSize).value();\n}\n","import React, { Component } from \"react\";\nimport MoviesTable from \"./moviesTable\";\nimport ListGroup from \"./common/listGroup\";\nimport Pagination from \"./common/pagination\";\nimport { getMovies } from \"../services/fakeMovieService\";\nimport { getGenres } from \"../services/fakeGenreService\";\nimport { paginate } from \"../utils/paginate\";\nimport _, { filter } from \"lodash\";\n\nclass Movies extends Component {\n  state = {\n    movies: [],\n    genres: [],\n    currentPage: 1,\n    pageSize: 4,\n    sortColumn: { path: \"title\", order: \"asc\" },\n  };\n\n  componentDidMount() {\n    const genres = [{ _id: \"\", name: \"All Genres\" }, ...getGenres()];\n    this.setState({ movies: getMovies(), genres });\n  }\n\n  handleDelete = (movie) => {\n    const movies = this.state.movies.filter((m) => m._id !== movie._id);\n    this.setState({ movies });\n  };\n\n  handleLike = (movie) => {\n    const movies = [...this.state.movies];\n    const index = movies.indexOf(movie);\n    movies[index] = { ...movies[index] };\n    movies[index].liked = !movies[index].liked;\n    this.setState({ movies });\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  handleGenreSelect = (genre) => {\n    this.setState({ selectedGenre: genre, currentPage: 1 });\n  };\n\n  handleSort = (sortColumn) => {\n    this.setState({ sortColumn });\n  };\n\n  getPageData = () => {\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      selectedGenre,\n      movies: allMovies,\n    } = this.state;\n\n    const filtered =\n      selectedGenre && selectedGenre._id\n        ? allMovies.filter((m) => m.genre._id === selectedGenre._id)\n        : allMovies;\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const movies = paginate(sorted, currentPage, pageSize);\n\n    return { totalCount: filtered.length, data: movies };\n  };\n\n  render() {\n    const { length: count } = this.state.movies;\n    const { pageSize, currentPage, sortColumn } = this.state;\n\n    if (count === 0) return <p>There are no movies in the database</p>;\n\n    const { totalCount, data } = this.getPageData();\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-3\">\n          <ListGroup\n            items={this.state.genres}\n            selectedItem={this.state.selectedGenre}\n            onItemSelect={this.handleGenreSelect}\n          />\n        </div>\n        <div className=\"col\">\n          <p>Showing {totalCount} movies in the database.</p>\n          <MoviesTable\n            movies={data}\n            sortColumn={sortColumn}\n            onLike={this.handleLike}\n            onDelete={this.handleDelete}\n            onSort={this.handleSort}\n          />\n          <Pagination\n            itemsCount={totalCount}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Movies;\n","import React, { Component } from \"react\";\nimport Movies from \"./components/movies\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <main className=\"container\">\n      <Movies />\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}